{"version":3,"names":["useInputFocusController","register","unregister","createOnSubmitEditing","useInputFocusControllerContext","node","setNode","useState","inputRef","useRef","useEffect","newNode","typedValue","setTypedValue","returnKeyType","setReturnKeyType","next","onSubmitEditing","ref"],"sources":["useInputFocusController.tsx"],"sourcesContent":["import { RefObject, useEffect, useRef, useState } from 'react';\r\nimport { TextInput, ReturnKeyTypeOptions } from 'react-native';\r\nimport { Node } from './InputFocusController';\r\nimport { useInputFocusControllerContext } from './InputFocusControllerContext';\r\n\r\ntype useInputFocusControllerReturnType = {\r\n    returnKeyType?: ReturnKeyTypeOptions;\r\n    onSubmitEditing?: () => void;\r\n    ref: RefObject<TextInput>;\r\n};\r\n\r\nexport const useInputFocusController = (): useInputFocusControllerReturnType => {\r\n    const { register, unregister, createOnSubmitEditing } = useInputFocusControllerContext();\r\n\r\n    const [node, setNode] = useState<Node<React.RefObject<TextInput | undefined>>>();\r\n\r\n    const inputRef = useRef<TextInput>(null);\r\n\r\n    useEffect(() => {\r\n        const newNode = register(inputRef);\r\n        setNode(newNode);\r\n\r\n        return () => {\r\n            unregister(newNode);\r\n        };\r\n    }, [register, unregister]);\r\n\r\n    const [typedValue, setTypedValue] = useState('');\r\n\r\n    const [returnKeyType, setReturnKeyType] = useState<ReturnKeyTypeOptions>();\r\n    useEffect(() => {\r\n        if (node?.next) {\r\n            setReturnKeyType('go');\r\n        }\r\n        setTypedValue('done');\r\n    }, [node]);\r\n\r\n    return {\r\n        onSubmitEditing: node && createOnSubmitEditing(node),\r\n        returnKeyType: returnKeyType,\r\n        ref: inputRef,\r\n    };\r\n};\r\n"],"mappings":";;;;;;;AAAA;;AAGA;;AAQO,MAAMA,uBAAuB,GAAG,MAAyC;EAC5E,MAAM;IAAEC,QAAF;IAAYC,UAAZ;IAAwBC;EAAxB,IAAkD,IAAAC,2DAAA,GAAxD;EAEA,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkB,IAAAC,eAAA,GAAxB;EAEA,MAAMC,QAAQ,GAAG,IAAAC,aAAA,EAAkB,IAAlB,CAAjB;EAEA,IAAAC,gBAAA,EAAU,MAAM;IACZ,MAAMC,OAAO,GAAGV,QAAQ,CAACO,QAAD,CAAxB;IACAF,OAAO,CAACK,OAAD,CAAP;IAEA,OAAO,MAAM;MACTT,UAAU,CAACS,OAAD,CAAV;IACH,CAFD;EAGH,CAPD,EAOG,CAACV,QAAD,EAAWC,UAAX,CAPH;EASA,MAAM,CAACU,UAAD,EAAaC,aAAb,IAA8B,IAAAN,eAAA,EAAS,EAAT,CAApC;EAEA,MAAM,CAACO,aAAD,EAAgBC,gBAAhB,IAAoC,IAAAR,eAAA,GAA1C;EACA,IAAAG,gBAAA,EAAU,MAAM;IACZ,IAAIL,IAAJ,aAAIA,IAAJ,eAAIA,IAAI,CAAEW,IAAV,EAAgB;MACZD,gBAAgB,CAAC,IAAD,CAAhB;IACH;;IACDF,aAAa,CAAC,MAAD,CAAb;EACH,CALD,EAKG,CAACR,IAAD,CALH;EAOA,OAAO;IACHY,eAAe,EAAEZ,IAAI,IAAIF,qBAAqB,CAACE,IAAD,CAD3C;IAEHS,aAAa,EAAEA,aAFZ;IAGHI,GAAG,EAAEV;EAHF,CAAP;AAKH,CA/BM"}