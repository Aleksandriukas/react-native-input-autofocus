{"version":3,"names":["useEffect","useRef","useState","useInputFocusControllerContext","useInputFocusController","register","unregister","createOnSubmitEditing","node","setNode","inputRef","newNode","typedValue","setTypedValue","returnKeyType","setReturnKeyType","next","onSubmitEditing","ref"],"sources":["useInputFocusController.tsx"],"sourcesContent":["import { RefObject, useEffect, useRef, useState } from 'react';\r\nimport { TextInput, ReturnKeyTypeOptions } from 'react-native';\r\nimport { Node } from './InputFocusController';\r\nimport { useInputFocusControllerContext } from './InputFocusControllerContext';\r\n\r\ntype useInputFocusControllerReturnType = {\r\n    returnKeyType?: ReturnKeyTypeOptions;\r\n    onSubmitEditing?: () => void;\r\n    ref: RefObject<TextInput>;\r\n};\r\n\r\nexport const useInputFocusController = (): useInputFocusControllerReturnType => {\r\n    const { register, unregister, createOnSubmitEditing } = useInputFocusControllerContext();\r\n\r\n    const [node, setNode] = useState<Node<React.RefObject<TextInput | undefined>>>();\r\n\r\n    const inputRef = useRef<TextInput>(null);\r\n\r\n    useEffect(() => {\r\n        const newNode = register(inputRef);\r\n        setNode(newNode);\r\n\r\n        return () => {\r\n            unregister(newNode);\r\n        };\r\n    }, [register, unregister]);\r\n\r\n    const [typedValue, setTypedValue] = useState('');\r\n\r\n    const [returnKeyType, setReturnKeyType] = useState<ReturnKeyTypeOptions>();\r\n    useEffect(() => {\r\n        if (node?.next) {\r\n            setReturnKeyType('go');\r\n        }\r\n        setTypedValue('done');\r\n    }, [node]);\r\n\r\n    return {\r\n        onSubmitEditing: node && createOnSubmitEditing(node),\r\n        returnKeyType: returnKeyType,\r\n        ref: inputRef,\r\n    };\r\n};\r\n"],"mappings":"AAAA,SAAoBA,SAApB,EAA+BC,MAA/B,EAAuCC,QAAvC,QAAuD,OAAvD;AAGA,SAASC,8BAAT,QAA+C,+BAA/C;AAQA,OAAO,MAAMC,uBAAuB,GAAG,MAAyC;EAC5E,MAAM;IAAEC,QAAF;IAAYC,UAAZ;IAAwBC;EAAxB,IAAkDJ,8BAA8B,EAAtF;EAEA,MAAM,CAACK,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,EAAhC;EAEA,MAAMQ,QAAQ,GAAGT,MAAM,CAAY,IAAZ,CAAvB;EAEAD,SAAS,CAAC,MAAM;IACZ,MAAMW,OAAO,GAAGN,QAAQ,CAACK,QAAD,CAAxB;IACAD,OAAO,CAACE,OAAD,CAAP;IAEA,OAAO,MAAM;MACTL,UAAU,CAACK,OAAD,CAAV;IACH,CAFD;EAGH,CAPQ,EAON,CAACN,QAAD,EAAWC,UAAX,CAPM,CAAT;EASA,MAAM,CAACM,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC,EAAD,CAA5C;EAEA,MAAM,CAACY,aAAD,EAAgBC,gBAAhB,IAAoCb,QAAQ,EAAlD;EACAF,SAAS,CAAC,MAAM;IACZ,IAAIQ,IAAJ,aAAIA,IAAJ,eAAIA,IAAI,CAAEQ,IAAV,EAAgB;MACZD,gBAAgB,CAAC,IAAD,CAAhB;IACH;;IACDF,aAAa,CAAC,MAAD,CAAb;EACH,CALQ,EAKN,CAACL,IAAD,CALM,CAAT;EAOA,OAAO;IACHS,eAAe,EAAET,IAAI,IAAID,qBAAqB,CAACC,IAAD,CAD3C;IAEHM,aAAa,EAAEA,aAFZ;IAGHI,GAAG,EAAER;EAHF,CAAP;AAKH,CA/BM"}